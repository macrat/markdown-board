# ADR-0003: 共同編集カーソルのユーザーごとの色分けを行わない

## ステータス

決定済み (2026-02-06)

## コンテキスト

GitHub Issue #43 にて、共同編集時の他ユーザーのカーソルをユーザーごとに異なる色で表示する提案がなされた。提案内容は以下の通り:

- 現状は全員のカーソルが同じ色（`#c42776`のピンク）で表示されている
- Yjs AwarenessのclientIDに基づき、各ユーザーに異なる色を割り当てる
- 6〜8色の控えめなカラーパレットを用意する
- ユーザー名ラベルは追加せず、色分けのみで区別する

この提案は、プロダクト哲学のコア原則「リアルタイムの共有体験」を実現するための最小限のユーザー識別として提案された。

## 決定

この機能を実装しない。

## 理由

### ユーザビリティの向上が見込めない

カーソルの色がユーザーによって異なっていたとしても、「何色が誰なのか」を判別する手段がなければ、実質的な識別には役立たない。ユーザー名やアバターなどの追加情報なしに色だけを変えても、複数人での共同編集時に「このカーソルは誰のものか」を認識することはできない。

### 見た目が派手になるだけの変更

カラフルなカーソルが複数表示されることで、見た目が派手になり視覚的なノイズが増える。これはプロダクト哲学の「ノイズの排除 — UIの複雑さ、保存・同期の意識、フォーマットの強制など、ユーザーの思考を妨げるあらゆるノイズを排除する」という原則に反する。

### 判断基準の適用

プロダクト哲学の判断基準に照らし合わせると:

- **それがなくても目的は達成できないか？** → 共同編集自体は現状のシンプルな実装で機能している。カーソルの色分けなしでも、リアルタイムの共有体験は提供できている
- **説明なしで使い方がわかるか？** → 色分けされたカーソルだけでは、誰がどの色なのかが分からない。意味を理解するには別途説明や識別手段が必要になる
- **ユーザーの思考を中断させないか？** → カラフルなカーソルは視覚的なノイズとなり、思考の妨げになる可能性がある

「迷いが解消しないときは、追加しない方を選ぶ」という原則に従い、この機能は実装しない。

## 影響

- 共同編集時のカーソルは引き続き統一された色（`#c42776`）で表示される
- ユーザー名ラベルは引き続き非表示のままとする
- 将来的にユーザー識別が本当に必要になった場合は、色分けだけでなく、ユーザー名表示など実用的な識別手段を含めた包括的な設計を再検討する
